        -:    0:Source:rainhas.cpp
        -:    1:// Copyright 2024 Daniel do Carmo Figueiredo
        -:    2:
        -:    3:#include "rainhas.hpp"
        -:    4:#include <cctype>
        -:    5:#include <string>
        -:    6:#include <fstream>
        -:    7:#include <iostream>
        -:    8:
        -:    9:using namespace std;
        -:   10:
        8:   11:int valida_arquivo_entrada(const std::string &filename)
        -:   12:{
        8:   13:  ifstream file(filename);
        8:   14:  if (!file)
        1:   15:    return -1;
        -:   16:
        -:   17:  char caractere;
        7:   18:  int numColunas = 0;
        7:   19:  int numLinhas = 0;
      355:   20:  while (file.get(caractere))
        -:   21:  {
      352:   22:    if (isalpha(caractere))
        1:   23:      return -1;
        -:   24:
      351:   25:    if (isdigit(caractere) && !(caractere == '0' || caractere == '1'))
        1:   26:      return -1;
        -:   27:
      350:   28:    if (caractere == '\n')
        -:   29:    {
       35:   30:      if (numColunas != 8)
        2:   31:        return -1;
        -:   32:
       33:   33:      numColunas = 0;
       33:   34:      numLinhas++;
        -:   35:    }
        -:   36:    else
        -:   37:    {
      315:   38:      ++numColunas;
        -:   39:    }
        -:   40:  }
        -:   41:
        3:   42:  if (numLinhas != 7)
        1:   43:    return -1;
        -:   44:
        2:   45:  file.close();
        -:   46:
        2:   47:  return 0;
        8:   48:}
        -:   49:
        8:   50:int rainhas(const std::string &filename)
        -:   51:{
        8:   52:  int valida_arquivo = valida_arquivo_entrada(filename);
        8:   53:  if (valida_arquivo == -1)
        6:   54:    return -1;
        -:   55:
        2:   56:  return 0;
        -:   57:}
